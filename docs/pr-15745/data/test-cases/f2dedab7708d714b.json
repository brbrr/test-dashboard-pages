{
  "uid" : "f2dedab7708d714b",
  "name" : "In-place upgrading a plan from personal to premium",
  "fullName" : "Connection.In-place upgrading a plan from personal to premium",
  "historyId" : "58de9981baba1e55bed32e654a6ddf4e",
  "time" : {
    "start" : 1589796749638,
    "stop" : 1589796870907,
    "duration" : 121269
  },
  "description" : "",
  "descriptionHtml" : "",
  "status" : "failed",
  "statusDetails" : {
    "message" : "Error: Site does not have premium plan",
    "trace" : "Error: Site does not have premium plan\n                    at _callee4$ (/home/travis/build/Automattic/jetpack/tests/e2e/lib/flows/jetpack-connect.js:113:9)\n                    at tryCatch (/home/travis/build/Automattic/jetpack/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:45:40)\n                    at Generator.invoke [as _invoke] (/home/travis/build/Automattic/jetpack/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:274:22)\n                    at Generator.prototype.(anonymous function) [as next] (/home/travis/build/Automattic/jetpack/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:97:21)\n                    at asyncGeneratorStep (/home/travis/build/Automattic/jetpack/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n                    at _next (/home/travis/build/Automattic/jetpack/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)",
    "flaky" : true
  },
  "beforeStages" : [ ],
  "testStage" : {
    "status" : "failed",
    "statusDetails" : {
      "message" : "Error: Site does not have premium plan",
      "trace" : "Error: Site does not have premium plan\n                    at _callee4$ (/home/travis/build/Automattic/jetpack/tests/e2e/lib/flows/jetpack-connect.js:113:9)\n                    at tryCatch (/home/travis/build/Automattic/jetpack/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:45:40)\n                    at Generator.invoke [as _invoke] (/home/travis/build/Automattic/jetpack/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:274:22)\n                    at Generator.prototype.(anonymous function) [as next] (/home/travis/build/Automattic/jetpack/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:97:21)\n                    at asyncGeneratorStep (/home/travis/build/Automattic/jetpack/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n                    at _next (/home/travis/build/Automattic/jetpack/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)",
      "flaky" : true
    },
    "steps" : [ {
      "name" : "Can set a sandbox cookie",
      "time" : {
        "start" : 1589796762662,
        "stop" : 1589796764054,
        "duration" : 1392
      },
      "status" : "passed",
      "statusDetails" : {
        "flaky" : false
      },
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Can start in-place connection",
      "time" : {
        "start" : 1589796764054,
        "stop" : 1589796791781,
        "duration" : 27727
      },
      "status" : "passed",
      "statusDetails" : {
        "flaky" : false
      },
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Can process payment for Personal plan",
      "time" : {
        "start" : 1589796791781,
        "stop" : 1589796824646,
        "duration" : 32865
      },
      "status" : "passed",
      "statusDetails" : {
        "flaky" : false
      },
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Can assert that site has a Personal plan",
      "time" : {
        "start" : 1589796824646,
        "stop" : 1589796825540,
        "duration" : 894
      },
      "status" : "passed",
      "statusDetails" : {
        "flaky" : false
      },
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Can visit plans page and select a Premium plan",
      "time" : {
        "start" : 1589796825540,
        "stop" : 1589796828248,
        "duration" : 2708
      },
      "status" : "passed",
      "statusDetails" : {
        "flaky" : false
      },
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Can process payment for Premium plan",
      "time" : {
        "start" : 1589796828248,
        "stop" : 0,
        "duration" : -1589796828248
      },
      "status" : "unknown",
      "statusDetails" : {
        "flaky" : false
      },
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "d9cf6f1a681f620c",
        "name" : "Test failed: Connection :: In-place upgrading a plan from personal to premium",
        "source" : "d9cf6f1a681f620c.png",
        "type" : "image/png",
        "size" : 153053
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 1,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    } ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 6,
    "attachmentsCount" : 1,
    "shouldDisplayMessage" : true,
    "hasContent" : true
  },
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "suite",
    "value" : "Connection"
  }, {
    "name" : "testClass",
    "value" : "Connection"
  }, {
    "name" : "testMethod",
    "value" : "In-place upgrading a plan from personal to premium"
  }, {
    "name" : "package",
    "value" : "Connection"
  }, {
    "name" : "resultFormat",
    "value" : "allure1"
  } ],
  "parameters" : [ ],
  "links" : [ ],
  "hidden" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ {
      "uid" : "cb26df8e3ceace31",
      "status" : "failed",
      "statusDetails" : "TypeError: Cannot read property 'currentStep' of undefined",
      "time" : {
        "start" : 1589795671540,
        "stop" : 1589795705750,
        "duration" : 34210
      }
    }, {
      "uid" : "5379d8e626b547af",
      "status" : "passed",
      "time" : {
        "start" : 1589619497037,
        "stop" : 1589619595383,
        "duration" : 98346
      }
    }, {
      "uid" : "3b27dda18d7db5d3",
      "status" : "passed",
      "time" : {
        "start" : 1589618689511,
        "stop" : 1589618776850,
        "duration" : 87339
      }
    }, {
      "uid" : "90681db5c39498cb",
      "status" : "passed",
      "time" : {
        "start" : 1589618293446,
        "stop" : 1589618398117,
        "duration" : 104671
      }
    }, {
      "uid" : "664df9ccb5ec1cc2",
      "status" : "passed",
      "time" : {
        "start" : 1589616802946,
        "stop" : 1589616904226,
        "duration" : 101280
      }
    }, {
      "uid" : "9530622086cca0c7",
      "status" : "failed",
      "statusDetails" : "Error: Site does not have premium plan",
      "time" : {
        "start" : 1589562673531,
        "stop" : 1589562803293,
        "duration" : 129762
      }
    }, {
      "uid" : "b58e5942157506e5",
      "status" : "passed",
      "time" : {
        "start" : 1589561557355,
        "stop" : 1589561664129,
        "duration" : 106774
      }
    }, {
      "uid" : "afdae6a35bc2257f",
      "status" : "failed",
      "statusDetails" : "Error: Site does not have premium plan",
      "time" : {
        "start" : 1589559760211,
        "stop" : 1589559880044,
        "duration" : 119833
      }
    }, {
      "uid" : "a9ae5e001857b077",
      "status" : "passed",
      "time" : {
        "start" : 1589556655014,
        "stop" : 1589556760826,
        "duration" : 105812
      }
    }, {
      "uid" : "7a4e13bfe1914c8f",
      "status" : "failed",
      "statusDetails" : "TimeoutError: waiting for selector \".login\" failed: timeout 25000ms exceeded",
      "time" : {
        "start" : 1589548835246,
        "stop" : 1589548895090,
        "duration" : 59844
      }
    }, {
      "uid" : "8e6dd1d544123178",
      "status" : "failed",
      "statusDetails" : "TimeoutError: waiting for selector \".login\" failed: timeout 25000ms exceeded",
      "time" : {
        "start" : 1589547209373,
        "stop" : 1589547269347,
        "duration" : 59974
      }
    }, {
      "uid" : "9abde64c99b548d2",
      "status" : "passed",
      "time" : {
        "start" : 1589531489197,
        "stop" : 1589531649251,
        "duration" : 160054
      }
    }, {
      "uid" : "bd3e8f987b594640",
      "status" : "passed",
      "time" : {
        "start" : 1589530857553,
        "stop" : 1589530948232,
        "duration" : 90679
      }
    }, {
      "uid" : "4e54a367cc97fe9a",
      "status" : "passed",
      "time" : {
        "start" : 1589530025120,
        "stop" : 1589530121212,
        "duration" : 96092
      }
    }, {
      "uid" : "d9b77dc08c49f739",
      "status" : "passed",
      "time" : {
        "start" : 1589528918539,
        "stop" : 1589529042951,
        "duration" : 124412
      }
    }, {
      "uid" : "f62c7f7a1164177d",
      "status" : "failed",
      "statusDetails" : "Error: Site does not have premium plan",
      "time" : {
        "start" : 1589526224175,
        "stop" : 1589526391482,
        "duration" : 167307
      }
    }, {
      "uid" : "5252c9aa019e0d16",
      "status" : "passed",
      "time" : {
        "start" : 1589485526506,
        "stop" : 1589485658950,
        "duration" : 132444
      }
    }, {
      "uid" : "aef3f35dd4512b35",
      "status" : "passed",
      "time" : {
        "start" : 1589480704973,
        "stop" : 1589480854366,
        "duration" : 149393
      }
    }, {
      "uid" : "71f30cda840b63c4",
      "status" : "failed",
      "statusDetails" : "Error: Site does not have premium plan",
      "time" : {
        "start" : 1589479975774,
        "stop" : 1589480129506,
        "duration" : 153732
      }
    }, {
      "uid" : "6f49e77e95cf9b0a",
      "status" : "failed",
      "statusDetails" : "Error: Command failed: rm /home/travis/wordpress/wp-content/plugins/e2e-plan-data-interceptor.php\n                rm: cannot remove ‘/home/travis/wordpress/wp-content/plugins/e2e-plan-data-interceptor.php’: No such file or directory\n                ",
      "time" : {
        "start" : 1589476299097,
        "stop" : 1589476331805,
        "duration" : 32708
      }
    }, {
      "uid" : "a15591312c18ed4",
      "status" : "failed",
      "statusDetails" : "TypeError: Cannot read property 'currentStep' of undefined",
      "time" : {
        "start" : 1589473494291,
        "stop" : 1589473526694,
        "duration" : 32403
      }
    }, {
      "uid" : "4faefb4987431c33",
      "status" : "failed",
      "statusDetails" : "Error: Site does not have pro plan",
      "time" : {
        "start" : 1589471711500,
        "stop" : 1589471851535,
        "duration" : 140035
      }
    }, {
      "uid" : "e7be7377db080593",
      "status" : "failed",
      "statusDetails" : "Error: Site does not have pro plan",
      "time" : {
        "start" : 1589470648368,
        "stop" : 1589470790856,
        "duration" : 142488
      }
    }, {
      "uid" : "5a1794d4805edc7f",
      "status" : "failed",
      "statusDetails" : "Error: Site does not have premium plan",
      "time" : {
        "start" : 1589456727578,
        "stop" : 1589456857337,
        "duration" : 129759
      }
    }, {
      "uid" : "3c79f7d999b24574",
      "status" : "failed",
      "statusDetails" : "Error: Site does not have premium plan",
      "time" : {
        "start" : 1589445288713,
        "stop" : 1589445426017,
        "duration" : 137304
      }
    }, {
      "uid" : "cfc5f0cf3e1b504d",
      "status" : "passed",
      "time" : {
        "start" : 1589389984450,
        "stop" : 1589390107216,
        "duration" : 122766
      }
    }, {
      "uid" : "1de70acd6cd1f228",
      "status" : "passed",
      "time" : {
        "start" : 1589386971317,
        "stop" : 1589387071093,
        "duration" : 99776
      }
    }, {
      "uid" : "89b037f4e2c637b3",
      "status" : "passed",
      "time" : {
        "start" : 1589385619721,
        "stop" : 1589385732139,
        "duration" : 112418
      }
    }, {
      "uid" : "273c29017f998339",
      "status" : "passed",
      "time" : {
        "start" : 1589384197813,
        "stop" : 1589384321104,
        "duration" : 123291
      }
    }, {
      "uid" : "e9dbc9ec17691e47",
      "status" : "failed",
      "statusDetails" : "TimeoutError: waiting for selector \"iframe.jp-jetpack-connect__iframe\" failed: timeout 25000ms exceeded",
      "time" : {
        "start" : 1589384105284,
        "stop" : 1589384224171,
        "duration" : 118887
      }
    }, {
      "uid" : "ea92e1854471d1ba",
      "status" : "passed",
      "time" : {
        "start" : 1589372688187,
        "stop" : 1589372816075,
        "duration" : 127888
      }
    }, {
      "uid" : "6009b0f52d13a027",
      "status" : "failed",
      "statusDetails" : "TimeoutError: waiting for selector \"iframe.jp-jetpack-connect__iframe\" failed: timeout 25000ms exceeded",
      "time" : {
        "start" : 1589371711848,
        "stop" : 1589371820012,
        "duration" : 108164
      }
    }, {
      "uid" : "ebeaf9877ed00c3d",
      "status" : "passed",
      "time" : {
        "start" : 1589371688930,
        "stop" : 1589371824783,
        "duration" : 135853
      }
    }, {
      "uid" : "9288f01002293296",
      "status" : "passed",
      "time" : {
        "start" : 1589371329946,
        "stop" : 1589371465860,
        "duration" : 135914
      }
    }, {
      "uid" : "8f955b1951aec9a1",
      "status" : "failed",
      "statusDetails" : ": Timeout - Async callback was not invoked within the 300000ms timeout specified by jest.setTimeout.",
      "time" : {
        "start" : 1589365528774,
        "stop" : 1589365844081,
        "duration" : 315307
      }
    }, {
      "uid" : "49392acce18d1f3",
      "status" : "failed",
      "statusDetails" : "Error: Site does not have premium plan",
      "time" : {
        "start" : 1589364014249,
        "stop" : 1589364289487,
        "duration" : 275238
      }
    }, {
      "uid" : "556efebb85a0a682",
      "status" : "failed",
      "statusDetails" : "Error: Site does not have premium plan",
      "time" : {
        "start" : 1589355387105,
        "stop" : 1589355536962,
        "duration" : 149857
      }
    }, {
      "uid" : "f9024e83dc2fdce2",
      "status" : "failed",
      "statusDetails" : "TimeoutError: waiting for selector \".plans-prompt__footer a\" failed: timeout 60000ms exceeded",
      "time" : {
        "start" : 1589353842827,
        "stop" : 1589353995829,
        "duration" : 153002
      }
    }, {
      "uid" : "5755c0c37782e216",
      "status" : "failed",
      "statusDetails" : "Error: Site does not have premium plan",
      "time" : {
        "start" : 1589352261861,
        "stop" : 1589352402753,
        "duration" : 140892
      }
    }, {
      "uid" : "29df3bb19ea71e14",
      "status" : "failed",
      "statusDetails" : "TimeoutError: waiting for selector \".plans-prompt__footer a\" failed: timeout 60000ms exceeded",
      "time" : {
        "start" : 1589350973261,
        "stop" : 1589351128184,
        "duration" : 154923
      }
    }, {
      "uid" : "722e4d5a5b8f681a",
      "status" : "failed",
      "statusDetails" : "Error: Site does not have premium plan",
      "time" : {
        "start" : 1589317612241,
        "stop" : 1589317773813,
        "duration" : 161572
      }
    }, {
      "uid" : "ac7ff546a474f8e5",
      "status" : "failed",
      "statusDetails" : "Error: waitForFunction failed: frame got detached.",
      "time" : {
        "start" : 1589314734245,
        "stop" : 1589314784007,
        "duration" : 49762
      }
    }, {
      "uid" : "6ee21fc4fd6d425d",
      "status" : "failed",
      "statusDetails" : "Error: waitForFunction failed: frame got detached.",
      "time" : {
        "start" : 1589312504493,
        "stop" : 1589312542740,
        "duration" : 38247
      }
    }, {
      "uid" : "b71df8b24a7da22f",
      "status" : "failed",
      "statusDetails" : "Error: waitForFunction failed: frame got detached.",
      "time" : {
        "start" : 1589309208035,
        "stop" : 1589309246685,
        "duration" : 38650
      }
    }, {
      "uid" : "b256ac0268aba822",
      "status" : "failed",
      "statusDetails" : "Error: waitForFunction failed: frame got detached.",
      "time" : {
        "start" : 1589308356869,
        "stop" : 1589308400457,
        "duration" : 43588
      }
    }, {
      "uid" : "1c7963d0dcd4a72e",
      "status" : "failed",
      "statusDetails" : "TimeoutError: waiting for selector \".plans-prompt__footer a\" failed: timeout 60000ms exceeded",
      "time" : {
        "start" : 1589297067131,
        "stop" : 1589297161887,
        "duration" : 94756
      }
    }, {
      "uid" : "afa1bbb34fad8333",
      "status" : "failed",
      "statusDetails" : "Error: Site does not have premium plan",
      "time" : {
        "start" : 1589289143258,
        "stop" : 1589289265427,
        "duration" : 122169
      }
    }, {
      "uid" : "52ad64ec87d54eeb",
      "status" : "failed",
      "statusDetails" : "TimeoutError: waiting for selector \".checkout__credit-card-payment-box-progress-bar\" failed: timeout 30000ms exceeded",
      "time" : {
        "start" : 1589285925109,
        "stop" : 1589286053779,
        "duration" : 128670
      }
    }, {
      "uid" : "539a728e7d6b7e8f",
      "status" : "failed",
      "statusDetails" : "Error: Site does not have premium plan",
      "time" : {
        "start" : 1589283959892,
        "stop" : 1589284099541,
        "duration" : 139649
      }
    }, {
      "uid" : "a294fffbb7063843",
      "status" : "failed",
      "statusDetails" : "TimeoutError: waiting for selector \"#toplevel_page_jetpack\" failed: timeout 30000ms exceeded",
      "time" : {
        "start" : 1589282519526,
        "stop" : 1589282562205,
        "duration" : 42679
      }
    }, {
      "uid" : "a5350b460742f5ea",
      "status" : "failed",
      "statusDetails" : "Error: Site does not have premium plan",
      "time" : {
        "start" : 1589280759743,
        "stop" : 1589280870467,
        "duration" : 110724
      }
    }, {
      "uid" : "b821b852b1b62305",
      "status" : "failed",
      "statusDetails" : "Error: Site does not have premium plan",
      "time" : {
        "start" : 1589217130731,
        "stop" : 1589217267977,
        "duration" : 137246
      }
    }, {
      "uid" : "5901b3823d62d4c9",
      "status" : "failed",
      "statusDetails" : "TimeoutError: waiting for selector \".checkout__secure-payment-form\" to be hidden failed: timeout 150000ms exceeded",
      "time" : {
        "start" : 1589214859823,
        "stop" : 1589215082560,
        "duration" : 222737
      }
    }, {
      "uid" : "944266938f7c5466",
      "status" : "failed",
      "statusDetails" : "TimeoutError: waiting for selector \".plans-prompt__footer a\" failed: timeout 60000ms exceeded",
      "time" : {
        "start" : 1589212071523,
        "stop" : 1589212163750,
        "duration" : 92227
      }
    }, {
      "uid" : "28f0c25c28a99ee5",
      "status" : "failed",
      "statusDetails" : "Error: Site does not have premium plan",
      "time" : {
        "start" : 1589210801112,
        "stop" : 1589210919741,
        "duration" : 118629
      }
    } ],
    "categories" : [ {
      "name" : "Product defects",
      "matchedStatuses" : [ ],
      "flaky" : false
    } ],
    "tags" : [ ]
  },
  "source" : "f2dedab7708d714b.json",
  "statusDetailsSafe" : {
    "message" : "Error: Site does not have premium plan",
    "trace" : "Error: Site does not have premium plan\n                    at _callee4$ (/home/travis/build/Automattic/jetpack/tests/e2e/lib/flows/jetpack-connect.js:113:9)\n                    at tryCatch (/home/travis/build/Automattic/jetpack/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:45:40)\n                    at Generator.invoke [as _invoke] (/home/travis/build/Automattic/jetpack/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:274:22)\n                    at Generator.prototype.(anonymous function) [as next] (/home/travis/build/Automattic/jetpack/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:97:21)\n                    at asyncGeneratorStep (/home/travis/build/Automattic/jetpack/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n                    at _next (/home/travis/build/Automattic/jetpack/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)",
    "flaky" : true
  },
  "statusMessage" : {
    "present" : true
  },
  "parameterValues" : [ ]
}